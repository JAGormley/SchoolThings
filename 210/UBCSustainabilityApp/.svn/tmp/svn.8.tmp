package ubc.cs.cpsc210.sustainabilityapp.webservices;

import java.util.LinkedList;

import java.util.List;

import org.json.simple.JSONArray;
import org.json.simple.JSONObject;
import org.json.simple.JSONValue;

import ubc.cs.cpsc210.sustainabilityapp.model.Photograph;
import ubc.cs.cpsc210.sustainabilityapp.model.LatLong;

public class FlickrParser {
	// Project Phase Two : TODO you need to complete the implementation of this class
	
    public static List<Photograph> parse(String response) {
//        LinkedList<Photograph> photoIDs = new LinkedList<Photograph>();
//        
//        JSONObject obj = (JSONObject) JSONValue.parse(getJSONFromResponse(response));
//
//		// TODO Project Phase Two : Now that you have a String that represents a JSONObject,
//        // parse the string to return a List of Photographs
//        JSONObject photosObj = (JSONObject)       obj.get("photos"); //get method inherited from HashMap
//        JSONArray  photoArr  = (JSONArray)  photosObj.get("photo");  //JSONArray is sublass of ArrayList
//        
//        for (int i=0; i < photoArr.size(); i++) {
//        	JSONObject photo = (JSONObject) photoArr.get(i);
//        	
//        	String id          = (String) photo.get("id");
//            String displayName = (String) photo.get("title");
//            String farm        = (String) photo.get("farm");
//            String secret      = (String) photo.get("secret");
//            String owner       = (String) photo.get("owner");
//            String server      = (String) photo.get("server");
//            
//            photoIDs.add(new Photograph(id, displayName, farm, secret, owner, server));
//        }
//        return photoIDs;
        
        
//      // Getting error with following loop
//      for( JSONObject photo : photoArr) {
//    	String id          = (String) photo.get("id");
//        String displayName = (String) photo.get("title");
//        String farm        = (String) photo.get("farm");
//        String secret      = (String) photo.get("secret");
//        String owner       = (String) photo.get("owner");
//        String server      = (String) photo.get("server");
//        photoIDs.add(new Photograph(id, displayName, farm, secret, owner, server));
//    	
//    }
    	return null;
    }
    
    private static LatLong parseLocation(String response){ 
    	String json = getJSONFromResponse(response);

    	// TODO Project Phase Two : Now that you have a String that represents a JSON Object,
    	// parse the string and return the LatLong 
//    	JSONObject obj         = (JSONObject) JSONValue.parse(json);
//        JSONObject photoObj    = (JSONObject)      obj.get("photo");     //JSONObject is subclass of HashMap, use get method
//        JSONObject locationObj = (JSONObject) photoObj.get("location");
//        Double lat             = (Double)  locationObj.get("latitude");
//        Double lon             = (Double)  locationObj.get("longitude");
//        		
//        LatLong result = new LatLong(lat, lon);
//        return result;
    	return null;

    }
    
    private static String getJSONFromResponse(String response){
    //	return response.substring(14, response.length() -1);
    	return null;
    }
    
    
    ///////// Code below is for TestFlickrParser JUnit testing purposes
//    static JSONObject parseLocationPhoto(String response){ 
//    	String json = getJSONFromResponse(response);
//    	JSONObject obj = (JSONObject) JSONValue.parse(json);
//    	return obj;
//    }
    
}

